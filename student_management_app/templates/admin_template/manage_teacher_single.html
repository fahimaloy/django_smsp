{% extends 'admin_template/base_template.html' %}

{% block page_title %}
    Manage teacher
{% endblock page_title %}

{% block main_content %}

{% load static %}
<style>
    body{
    margin-top:20px;
    color: #1a202c;
    text-align: left;
    background-color: #e2e8f0;    
}
.main-body {
    padding: 15px;
}
.card {
    box-shadow: 0 1px 3px 0 rgba(0,0,0,.1), 0 1px 2px 0 rgba(0,0,0,.06);
}

.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid rgba(0,0,0,.125);
    border-radius: .25rem;
}

.card-body {
    flex: 1 1 auto;
    min-height: 1px;
    padding: 1rem;
}

.gutters-sm {
    margin-right: -8px;
    margin-left: -8px;
}

.gutters-sm>.col, .gutters-sm>[class*=col-] {
    padding-right: 8px;
    padding-left: 8px;
}
.mb-3, .my-3 {
    margin-bottom: 1rem!important;
}

.bg-gray-300 {
    background-color: #e2e8f0;
}
.h-100 {
    height: 100%!important;
}
.shadow-none {
    box-shadow: none!important;
}
</style>

<div class="container">
    <div class="main-body">
    
          <!-- Breadcrumb -->
          <nav aria-label="breadcrumb" class="main-breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="/admin_home/">Home</a></li>
              <li class="breadcrumb-item"><a href="/manage_teacher/">Manage Teachers</a></li>
              <li class="breadcrumb-item active" aria-current="page">{{ teacher_obj.admin.first_name }} {{ teacher_obj.admin.last_name }}</li>
            </ol>
          </nav>
          <!-- /Breadcrumb -->
    
          <div class="row gutters-sm">
            <div class="col-md-4 mb-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex flex-column align-items-center text-center">
                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
                    <div class="mt-3">
                      <h4>{{ teacher_obj.admin.first_name }} {{ teacher_obj.admin.last_name }}</h4>
                      
                      <p class="text-muted font-size-sm">{{teacher_obj.address}}</p>
                      <a href="/teacher_payment_date_filter/" class="btn btn-primary my-2">View Registered Classes</a> 
                      <a href="/teacher_payment_date_filter/" class="btn btn-outline-primary">View Payment History</a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card mt-3">
                <ul class="list-group list-group-flush">
                 
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>Assigned Classes</h6>
                    {% for pcc in teacher_pcc %}
                    <span class="text-secondary"> {{pcc.class_id.class_name}}  : {{pcc.subject_id.subject_name}} </span> 
                    {% endfor %}
                  </li>

                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>Total Taken Classes</h6>
                    
                    <span class="text-secondary"> {{total_class_taken}}  </span>
                    
                  </li>

                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>Total Earning</h6>
                    
                    <span class="text-secondary"> {{total_earning_list_value}}  </span>
                    
                  </li>

                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>Total Paid</h6>
                    
                    <span class="text-secondary"> {{total_paid_dict_value}}  </span>
                    
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>SSC Result</h6>
                    
                    <span class="text-secondary"> Board : {{teacher_obj.sscBoard}} <br> Group : {{teacher_obj.sscGroup}} <br> Passing Year : {{teacher_obj.sscPassingYear}} <br> GPA : {{teacher_obj.sscGPA}}  </span>
                    
                  </li>
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>HSC Result</h6>
                    
                    <span class="text-secondary"> Board : {{teacher_obj.hscBoard}} <br> Group : {{teacher_obj.hscGroup}} <br> Passing Year : {{teacher_obj.hscPassingYear}} <br> GPA : {{teacher_obj.hscGPA}}  </span>
                    
                  </li>
                  
                  <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
                    <h6 class="mb-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-globe mr-2 icon-inline"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>BSC/B.A/B.Com Result</h6>
                    
                    <span class="text-secondary"> University : {{teacher_obj.baUniversity}} <br> Subject : {{teacher_obj.baSubject}} <br> Passing Year : {{teacher_obj.baPassingYear}} <br> GPA : {{teacher_obj.baCGPA}}  </span>
                    
                  </li>
                  
                  
                </ul>
              </div>
            </div>
            <div class="col-md-8">
              <div class="card mb-3">
                <div class="card-body">
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Full Name</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                        {{ teacher_obj.admin.first_name }} {{ teacher_obj.admin.last_name }}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Email</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.admin.email}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Mobile Number</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.mobileNumber}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Emergency Mobile Number</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.emergencyMobileNumber}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">NID Number</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.nid}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Marital Status</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.mstatus}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Present Address</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.presentAddress}}
                    </div>
                  </div>
                  <hr>

                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Parmanent Address</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.parmanentAddress}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Gender</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {% if teacher_obj.gender == 0 %}
                        Male
                      {% elif teacher_obj.gender == 1 %}
                        Female
                      {% endif %}
                    </div>
                  </div>
                  <hr>

<!-- 
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">SSC Result : </h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      Board : {{teacher_obj.sscBoard}} - Group : {{teacher_obj.sscGroup}} - Passing Year : {{teacher_obj.sscPassingYear}} - GPA : {{teacher_obj.sscGPA}}
                    </div>
                  </div>
                  <hr> -->

                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Date Of Birth</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.dateOfBirth}}
                    </div>
                  </div>
                  <hr>

                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Experience</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.experience}}
                    </div>
                  </div>
                  <hr>
                  <div class="row">
                    <div class="col-sm-3">
                      <h6 class="mb-0">Current Instittute</h6>
                    </div>
                    <div class="col-sm-9 text-secondary">
                      {{teacher_obj.currentInstitute}}
                    </div>
                  </div>
                  <hr>

                  <div class="row">
                    <div class="col-sm-12">
                      <a class="btn btn-info " href="{% url 'edit_teacher' teacher_obj.admin.id %}" >Edit</a>
                    </div>
                  </div>
                </div>
              </div>

              <div class="row gutters-sm">
                <div class="col-sm-12 mb-12">
                  <div class="card h-100">
                    <div class="card-body">
                      <table class="table">
                        <thead class="thead-dark">
                          <tr>
                            <th colspan="6" style="text-align: center;">Registered Class Histoy</th>
                          </tr>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Class Name</th>
                            <th scope="col">Subject Name</th>
                            <th scope="col">Class Date</th>                            
                            <th scope="col">Class Time</th>                            
                            <th scope="col">Per Class Charge </th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for CnP in classNPayment %}
                          <tr>
                            <th scope="row">{{forloop.counter}}</th>
                            <td>{{CnP.pcc_id.class_id.class_name}}</td>
                            <td>{{CnP.pcc_id.subject_id.subject_name}}</td>
                            <td>{{CnP.class_date}}</td>
                            <td>{{CnP.from_time}} - {{CnP.to_time}}</td>
                            <td>{{ CnP.per_class_charge }} <b> ৳</b></td>
                            
                          </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                      
                      <table class="table">
                        <thead class="thead-light">
                          <tr><th scope="col" colspan="4" style="text-align: center;">History of Payments Provided by Coaching </th></tr>
                          <tr>
                            <th scope="col">#</th>
                            <th scope="col">Paid Upto</th>
                            <th scope="col">Paying Date</th>
                            <th scope="col">Payment Amount</th>
                          </tr>
                        </thead>
                        <tbody>
                          {% for tp in teacherPymnt %}
                          
                            <th scope="row">{{forloop.counter}}</th>
                            <td>{{tp.payment_upto}}</td>
                            <td>{{tp.paying_date}}</td>
                            <td>{{tp.payment_amount}}</td>
                          </tr>
                          {% endfor %}

                        </tbody>
                      </table>
                      
                    </div>
                  </div>
                </div>
      
              </div>



            </div>
          </div>

        </div>
    </div>


    {% endblock main_content %}