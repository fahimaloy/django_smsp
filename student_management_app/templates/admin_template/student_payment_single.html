{% extends 'admin_template/base_template.html' %}

{% block page_title %}
    Leave Apply by Staffs
{% endblock page_title %}

{% block main_content %}

{% load static %}

<section class="content">
        <div class="container-fluid">

            <div class="row">
                <div class="col-md-12">
                    <!-- general form elements -->
                    <div class="card card-primary">
                       
                        <!-- /.card-header -->

                        
                        <div class="card-header"style="display: flex;justify-content: center;">
                            
                             
                            <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="true" aria-controls="collapseExample">
                                <b>Class & Payment History</b>
                              </button>
                            <!-- <h3 class="card-title">Total Payment{{al}}</h3>
                            <h3 class="card-title">Payment Paid {{tplv}}</h3>
                            <h3 class="card-title">Due Payment {{due_payment}}</h3> -->
                        </div>


                        <div class="collapse show" id="collapseExample">
                            <div class="card-header bg-success"style="display: flex;justify-content: space-around;">
                            
                           
                                <h3 class="card-title">Total Fees : {{total_fees_list_value}}</h3>
                                <h3 class="card-title">Payment Paid {{total_paid_list_value}}</h3>
                                <h3 class="card-title">Due Payment {{due_payment}}</h3>
                            </div>
                    
                            <div class="card-body">
                                <div class="table-responsive">
                                     <table class="table">
                                         <thead class="thead-light">
                                         <tr>
                                             <th>#ID</th>
                                             <th>Pay Upto</th>
                                             <th>Amoount</th>
                                             <th>Bkash Number</th>
                                             <th>Transaction ID</th>
                                             <th>Status</th>
                                         </tr>
                                         </thead>
                                         
                                         {% for payment in payment_details %}
                                         <tr>
                                             <td>{{ payment.id }}</td>
                                             <td>{{ payment.pay_upto }}</td>
                                             <td>{{ payment.amount }}</td>
                                             <td>{{ payment.bkash_nmb }}</td>
                                             <td>{{ payment.trans_id }}</td>
                                             
                                             <td>
                                                {% if payment.payment_status == 0 %}
                                                <a href="{% url 'student_payment_approve' payment_id=payment.id %}" class="btn btn-success">Approve</a>
                                                <a href="{% url 'student_payment_reject' payment_id=payment.id %}" class="btn btn-danger">Reject</a>
                                            {% elif payment.payment_status == 1 %}
                                                <button class="btn btn-warning" disabled="disabled">Approved</button>
                                            {% else %}
                                                <button class="btn btn-danger" disabled="disabled">Rejected</button>
                                            {% endif %}
                                             </td>
                                         </tr>
                                         {% endfor %}
                                     </table>
                                 </div>
                             </div>
                        </div>

              
                    </div>
                    <!-- /.card -->




                </div>
            </div>

<!--            -->
            <div class="row">
                <div class="col-md-12">
                    <!-- general form elements -->
                    <div class="card card-primary">
                       
                        <!-- /.card-header -->

                        
                        <div class="card-header"style="display: flex;justify-content: center;">
                            
                             
                            <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseClass" aria-expanded="true" aria-controls="collapseExample">
                                <b>Class History</b>
                              </button>
                          
                        </div>


                        <div class="collapse show" id="collapseClass">
                        
                            <div class="card-body">
                                <div class="table-responsive">
                                     <table class="table">
                                         <thead class="thead-light">
                                         <tr>
                                             <th>#ID</th>
                                             <th>Fees Title</th>
                                             <th> Amount </th>
                                             
                                         </tr>
                                         </thead>
                                         
                                         {% for f_details in fees_details %}
                                         {% if f_details.amount != 0 %}
                                         <tr>
                                             <td>{{ f_details.id }}</td>
                                             <td>{{f_details.fees_date}}</td>
                                             <td>{{f_details.amount}}</td>
                                             
                                             
                                             
                                      
                                         </tr>
                                         {%endif%}
     
                                         {% endfor %}
     
                                         <tr>
                                             <td colspan="2" align="center" ><b>Total :</b></td>
                                             <td><b>{{total_fees_list_value}} à§³</b></td>
                                         </tr>
                 
                                     </table>
                                 </div>
                             </div>

                        </div>

              
                    </div>
                    <!-- /.card -->


                    

                </div>
            </div>

        </div><!-- /.container-fluid -->
      </section>

<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>


  {% endblock main_content %}

  {% comment %} Custom JS to Identify the Reply and Post Reply {% endcomment %}

  {% block custom_js %}


  {% endblock custom_js %}